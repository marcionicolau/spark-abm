agent Mandelbrot : SpaceAgent


var iteration : number
var z : complex
var c : complex


to create
	radius = 0.1
	color = red
end


to init
	iteration = 0
	c = complex position.x position.y
	c = c / 100
end


to step
	z = z * z + c
	iteration += 1

	if z.abs > 2
	[
		data.value = iteration
		die
		exit
	]	
	
	if iteration >= max-iteration
	[
		data.value = 0
		die
		exit
	]
end

